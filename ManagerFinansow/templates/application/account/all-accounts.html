{% extends 'application/base.html' %}

{% block title %}Wszystkie Konta{% endblock %}

{% block content %}
{% comment %} Strona z kontami użytkownika {% endcomment %}

    <div class="title">
        <h1>Konta</h1>
    </div>
    <a href={% url 'create-account' %}>Dodaj nowe konto</a>

    <div class="content tiles" id="all-accounts">
        
        {% for acc in accounts %}
            <div class="account">
                <a class="account-link" href={% url 'account' pk=acc.id %}>
                <span class="name">{{ acc }}</span>
                <span class="account-description">{{ acc.print_description }}</span>
                <span class="balance">Saldo: {{ acc.calculate_balance }} zł</span>
                <span class="balance">Waluta: {{ acc.currency }} zł</span>
                {% for tr in acc.transactions %}
                    <div class="transaction">
                        <span class="date">{{ tr.date }}</span>
                        <span class="date">{{ tr.id_category }}</span>
                        {% if tr.id_subcategory is not None %}
                            <span class="date">{{ tr.id_subcategory }}</span>
                        {% endif %}
                        {% if tr.name %}
                            <span class="name">{{ tr.name }}</span>
                        {% endif %}
                        <span class="amount">{{ tr.amount }} zł</span>
                    </div>
                {% endfor %}
                </a>
            </div>
        {% endfor %}

    </div>
    
{% endblock %}